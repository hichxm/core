{"version":3,"sources":["command/base/SetPrefix.ts"],"names":[],"mappings":";;;;;;;;AAAA,wCAAqC;AAErC,4DAA6C;AAC7C,yDAAsD;AAGtD,eAAqB,SAAQ,iBAAO;IAEnC;QAEC,KAAK,CAAC;YACL,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,6BAA6B;YACnC,OAAO,EAAE,CAAC,QAAQ,CAAC;YACnB,KAAK,EAAE,4BAA4B;YACnC,IAAI,EAAE,2KAA2K;YACjL,iBAAiB,EAAE,CAAC,eAAe,CAAC;SACpC,CAAC,CAAC;IACJ,CAAC;IAGM,KAAK,CAAC,MAAM,CAAC,OAAgB,EAAE,CAAC,GAAG,EAAE,MAAM,CAA0B;QAE3E,IAAI,CAAC,MAAM;YACV,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,kBAAkB,CAClD,EAAE,MAAM,EAAE,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,CAAE,EAAE,CAAC,CAAC,CAAC;QAE9D,IAAI,MAAM,CAAC,MAAM,GAAG,EAAE;YACrB,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,yBAAyB,EAAE,CAAC,CAAC;QAE/D,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;YACvB,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,4BAA4B,EAAE,CAAC,CAAC;QAElE,IAAI,MAAM,KAAK,OAAO;YAAE,MAAM,GAAG,EAAE,CAAC;QAEpC,MAAM,OAAO,CAAC,KAAK,CAAC,OAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAE5D,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,kBAAkB,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;IAClE,CAAC;CACD;AAlBA;IADC,yBAAK,CAAC,uBAAU,CAAC,QAAQ,CAAC;uCAkB1B;AAhCF,4BAiCC","file":"SetPrefix.js","sourcesContent":["import { Command } from '../Command';\nimport { Message } from '../../types/Message';\nimport { using } from '../CommandDecorators';\nimport { Middleware } from '../middleware/Middleware';\nimport { ResourceProxy } from '../../types/ResourceProxy';\n\nexport default class extends Command\n{\n\tpublic constructor()\n\t{\n\t\tsuper({\n\t\t\tname: 'setprefix',\n\t\t\tdesc: 'Set or check command prefix',\n\t\t\taliases: ['prefix'],\n\t\t\tusage: '<prefix>setprefix [prefix]',\n\t\t\tinfo: 'Prefixes may be 1-10 characters in length and may not include backslashes or backticks. Use \"clear\" to clear the prefix and allow commands to be called without a prefix.',\n\t\t\tcallerPermissions: ['ADMINISTRATOR']\n\t\t});\n\t}\n\n\t@using(Middleware.localize)\n\tpublic async action(message: Message, [res, prefix]: [ResourceProxy, string]): Promise<any>\n\t{\n\t\tif (!prefix)\n\t\t\treturn this.respond(message, res.CMD_PREFIX_CURRENT(\n\t\t\t\t{ prefix: (await this.client.getPrefix(message.guild))! }));\n\n\t\tif (prefix.length > 10)\n\t\t\treturn this.respond(message, res.CMD_PREFIX_ERR_CHAR_LIMIT());\n\n\t\tif (/[\\\\`]/.test(prefix))\n\t\t\treturn this.respond(message, res.CMD_PREFIX_ERR_INVALID_CHARS());\n\n\t\tif (prefix === 'clear') prefix = '';\n\n\t\tawait message.guild.storage!.settings.set('prefix', prefix);\n\n\t\treturn this.respond(message, res.CMD_PREFIX_SUCCESS({ prefix }));\n\t}\n}\n"],"sourceRoot":"../../../src"}